<html>
<head>
    <style>
        body {
        font-family: Verdana, sans-serif;
        text-align: center;
        background: #222;
        color: #fff;
        line-height: 200%;
        margin: 0;
        }
        hr {
        border-color: #666;
        }
        button {
        background: #333;
        color: #fff;
        font-family: Verdana, sans-serif;
        border: 0.3ch solid #333;
        display: inline-block;
        font-size: 20px;
        margin: 8px;
        margin-top: 12px;
        cursor: pointer;
        }
        .helpB {
        text-align: left;
        position: absolute;
        width: 60px;
        }
        input {
        background: #333;
        color: #fff;
        font-family: Verdana, sans-serif;
        border: 0.5ch solid #333;
        }
        input[type="number"] {
        width: 4em;
        }
        select {
        background: #333;
        color: #fff;
        font-family: Verdana, sans-serif;
        border: 0.5ch solid #333;
        }
        td {
        padding: 2px;
        }
        .d5 {
        width: 4.5em !important;
        }

    </style>
</head>

<body onload="bodyLoaded()">

    <label for="selectedCommand">Choose a command:</label>
    <select name="selectedCommand" id="selectedCommand">
        <option value="01">Brightness Up</option>
        <option value="02">Brightness Down</option>
        <option value="04">on</option>
        <option value="03">off</option>
        <option value="05">red</option>
        <option value="06">green</option>
        <option value="07">blue</option>
        <option value="08">white</option>
        <option value="09">light red</option>
        <option value="10">light green</option>
        <option value="11">light blue</option>
        <option value="12">flash</option>
        <option value="13">orange</option>
        <option value="14">turquoise</option>
        <option value="15">purple</option>
        <option value="16">strobe</option>
        <option value="17">slightly lighter orange</option>
        <option value="18">navy</option>
        <option value="19">pink</option>
        <option value="20">fade</option>
        <option value="21">yellow</option>
        <option value="22">darker navy</option>
        <option value="23">rose</option>
        <option value="24">smooth</option>
    </select>

    <button class="btn infobtn" onclick="sendIrCommand()">Send Command</button>
</body>
<script>
    function sendIrCommand() {
        // Sending and receiving data in JSON format using POST method
        
        let irCommand = document.getElementById('selectedCommand').value;

        var xhr = new XMLHttpRequest();
        var url = "/bulbCommand/"+irCommand;
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        // xhr.onreadystatechange = function () {
        //     if (xhr.readyState === 4 && xhr.status === 200) {
        //         // var json = JSON.parse(xhr.responseText);
        //         // console.log("Got JSON response=" + xhr.responseText);
        //         // console.log(json.email + ", " + json.password);
        //     }
        // };
        var data = JSON.stringify(
            {
                "status": "ok",
            }
        );
        xhr.send(data);
    }

    function bodyLoaded() {
        // console.log("Body loaded");
    }



</script>

</html>